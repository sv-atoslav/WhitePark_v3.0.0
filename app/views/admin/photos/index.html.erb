<p id="notice"><%= notice %></p>

<div class="wrapper wrapper-content animated fadeInRight"><div class="row"><div class="col-lg-12"><div class="ibox float-e-margins">
    <div class="ibox-title">
        <h5>Basic Data Tables example with responsive plugin</h5>
        <div class="ibox-tools">
            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
            <a class="close-link"><i class="fa fa-times"></i></a>
        </div>
    </div>
    <div class="ibox-content"><div class="table-responsive"><div id="DataTables_Table_0_wrapper" class="dataTables_wrapper form-inline dt-bootstrap">
        <table class="table table-striped table-bordered table-hover dataTables-example dataTable" id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info" role="grid">
            <thead><tr role="row">
                <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" style="width: 110px;">Photo preview</th>
                <th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending" style="width: 181px;">Description</th>
                <th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Platform(s): activate to sort column ascending" style="width: 162px;">Last update</th>
                <th class="sorting" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" aria-label="Engine version: activate to sort column ascending" style="width: 121px;" colspan="1">Actions</th>
            </tr></thead>
            <tbody><% @photo_list.each do |photo| %>  <tr class="gradeA even" role="row">
                <!-- <td class="sorting_1">Gecko</td>
                <td>Firefox 1.5</td>
                <td>Win 98+ / OSX.2+</td>
                <td class="center">1.8</td>
                <td class="center">A</td> -->

                <td class="sorting_1"><%= image_tag Photo.try_get_way_to_img_tag_by_photo(photo), width: "100px" %></td>
                <td><%= photo.description %></td>
                <td class="center"><%= photo.updated_at.strftime("%X %d %B %Y") %></td>
                <td class="center">
                    <%= link_to 'Show',      admin_photo_path(photo) %>,
                    <%= link_to 'Edit', edit_admin_photo_path(photo) %>,
                    <%= link_to 'Destroy',   admin_photo_path(photo), method: :delete, data: { confirm: 'Are you sure?' } %>
                </td>
                </tr><% end %></tbody>
            <tfoot><tr>
                <th rowspan="1" colspan="1">Photo preview</th>
                <th rowspan="1" colspan="1">Description</th>
                <th rowspan="1" colspan="1">Last update</th>
                <th rowspan="1" colspan="1">Actions</th>
                <!-- <th rowspan="1" colspan="1">CSS grade</th> -->
            </tr></tfoot>
        </table>
        <%= link_to 'New Photo', action: "new" %>
    </div></div></div>
</div></div></div></div>
<script>
    $(document).ready(function(){
        //without comment warning before work, with comment work (but error in f12)
         /* $('.dataTables-example').*/DataTable({
            pageLength: 25,
            responsive: true,
            dom: '<"html5buttons"B>lTfgitp',
            buttons: [
                {extend: 'copy'},
                {extend: 'csv' },
                {extend: 'excel', title: 'ExampleFile'},
                {extend: 'pdf',   title: 'ExampleFile'},
                {extend: 'print',
                    customize: function (win){
                        $(win.document.body).addClass('white-bg');
                        $(win.document.body).css('font-size', '10px');
                        $(win.document.body).find('table')
                        .addClass('compact')
                        .css('font-size', 'inherit');
                    }
                }
            ]
        });
    });
</script>